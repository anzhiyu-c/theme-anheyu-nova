@tailwind base;
@tailwind components;
@tailwind utilities;

/* 确保 Framer Motion useScroll 的容器有正确的定位 */
html,
body {
  position: relative;
}

/* ============================================
   主题颜色变量系统
   ============================================ */

:root {
  /* 基础颜色 */
  --background: 255 255 255;
  --foreground: 9 9 11;

  /* ============================================
     AnHeYu 风格变量 - 与 anheyu-pro 兼容
     ============================================ */
  --anzhiyu-white: #fff;
  --anzhiyu-white-op: rgb(255 255 255 / 20%);
  --anzhiyu-black: #000;
  --anzhiyu-black-op: rgb(0 0 0 / 20%);
  --anzhiyu-none: #0000;
  --anzhiyu-gray: #999;
  --anzhiyu-gray-op: #9999992b;

  /* 主题色 */
  --anzhiyu-theme: #10b981;
  --anzhiyu-theme-op: #10b98123;
  --anzhiyu-theme-op-deep: #10b981dd;
  --anzhiyu-theme-op-light: #10b9810d;
  --anzhiyu-theme-none: #10b98101;
  --anzhiyu-main: var(--anzhiyu-theme);
  --anzhiyu-main-op: var(--anzhiyu-theme-op);
  --anzhiyu-main-op-deep: var(--anzhiyu-theme-op-deep);
  --anzhiyu-main-op-light: var(--anzhiyu-theme-op-light);
  --anzhiyu-main-none: var(--anzhiyu-theme-none);

  /* 功能色 */
  --anzhiyu-blue: #3e86f6;
  --anzhiyu-red: #d80020;
  --anzhiyu-pink: #ff7c7c;
  --anzhiyu-green: #57bd6a;
  --anzhiyu-yellow: #c28b00;
  --anzhiyu-yellow-op: #d99c001a;
  --anzhiyu-orange: #e38100;
  --anzhiyu-purple: #7a60d2;

  /* 文字色 */
  --anzhiyu-fontcolor: #363636;
  --anzhiyu-secondtext: rgb(60 60 67 / 80%);
  --anzhiyu-hovertext: var(--anzhiyu-main);
  --anzhiyu-lighttext: var(--anzhiyu-main);
  --anzhiyu-reverse: #000;
  --text-highlight-color: #1f2d3d;
  --font-color: #4c4948;

  /* 背景色 */
  --anzhiyu-background: #f7f9fe;
  --anzhiyu-secondbg: #f1f3f8;
  --anzhiyu-card-bg: #fff;
  --anzhiyu-card-bg-op: var(--anzhiyu-black-op);
  --anzhiyu-card-bg-none: rgb(255 255 255 / 0%);
  --anzhiyu-card-bg-grey: #f0f2f5;
  --anzhiyu-card-btn-bg: #edf0f7;
  --anzhiyu-ahoverbg: #f7f7fa;
  --anzhiyu-maskbg: rgb(255 255 255 / 60%);
  --anzhiyu-maskbgdeep: rgb(255 255 255 / 85%);
  --anzhiyu-post-blockquote-bg: #fafcff;
  --anzhiyu-post-tabs-bg: #f2f5f8;

  /* 边框 */
  --anzhiyu-border-color: rgb(5 5 5 / 6%);
  --anzhiyu-card-border: #e3e8f7;
  --style-border: 1px solid var(--anzhiyu-card-border);
  --style-border-always: 1px solid var(--anzhiyu-card-border);
  --style-border-hover: 1px solid var(--anzhiyu-main);
  --style-border-hover-always: 1px solid var(--anzhiyu-main);
  --style-border-dashed: 1px dashed var(--anzhiyu-theme-op);

  /* 阴影 */
  --anzhiyu-shadow-theme: 0 8px 12px -3px var(--anzhiyu-theme-op);
  --anzhiyu-shadow-main: 0 8px 12px -3px var(--anzhiyu-main-op);
  --anzhiyu-shadow-blue: 0 8px 12px -3px rgb(40 109 234 / 20%);
  --anzhiyu-shadow-black: 0 0 12px 4px rgb(0 0 0 / 5%);
  --anzhiyu-shadow-blackdeep: 0 2px 16px -3px rgb(0 0 0 / 15%);
  --anzhiyu-shadow-border: 0 8px 16px -4px #2c2d300c;
  --anzhiyu-shadow-lightblack: 0 5px 12px -5px rgb(102 68 68 / 0%);
  --anzhiyu-shadow-nav: 0 5px 12px -5px rgb(102 68 68 / 5%);

  /* 代码高亮 */
  --anzhiyu-code-stress: var(--anzhiyu-main);
  --hl-color: #90a4ae;
  --hl-bg: #f6f8fa;
  --hltools-bg: var(--anzhiyu-secondbg);
  --hltools-color: var(--anzhiyu-fontcolor);
  --hlnumber-bg: #f6f8fa;
  --hlnumber-color: rgb(144 164 174 / 50%);
  --hlscrollbar-bg: #dce4eb;
  --hlexpand-bg: linear-gradient(180deg, rgb(246 248 250 / 60%), rgb(246 248 250 / 90%));

  /* 滚动条 */
  --anzhiyu-scrollbar: rgb(60 60 67 / 40%);

  /* 卡片 */
  --card: 255 255 255;
  --card-foreground: 9 9 11;

  /* 主色调 - 默认薄荷绿 */
  --primary: 16 185 129;
  --primary-foreground: 255 255 255;
  --primary-50: 236 253 245;
  --primary-100: 209 250 229;
  --primary-200: 167 243 208;
  --primary-300: 110 231 183;
  --primary-400: 52 211 153;
  --primary-500: 16 185 129;
  --primary-600: 5 150 105;
  --primary-700: 4 120 87;
  --primary-800: 6 95 70;
  --primary-900: 4 78 56;

  /* 次要色 */
  --secondary: 244 244 245;
  --secondary-foreground: 9 9 11;

  /* 静音色 */
  --muted: 244 244 245;
  --muted-foreground: 113 113 122;

  /* 强调色 */
  --accent: 244 244 245;
  --accent-foreground: 9 9 11;

  /* 边框 */
  --border: 228 228 231;
  --input: 228 228 231;
  --ring: 16 185 129;

  /* 功能色 */
  --destructive: 239 68 68;
  --destructive-foreground: 255 255 255;
  --success: 34 197 94;
  --warning: 245 158 11;
  --info: 59 130 246;

  /* 选中色 */
  --selection-bg: 16 185 129;
  --selection-opacity: 0.2;

  /* 滚动条 */
  --scrollbar-thumb: 0 0 0 / 0.15;
  --scrollbar-thumb-hover: 0 0 0 / 0.25;

  /* 玻璃效果 */
  --glass-bg: 255 255 255 / 0.7;
  --glass-border: 0 0 0 / 0.08;
}

/* 深色模式 */
.dark {
  --background: 0 0 0;
  --foreground: 250 250 250;

  --card: 24 24 27;
  --card-foreground: 250 250 250;

  /* 深色模式主色调略微调亮 */
  --primary: 52 211 153;
  --primary-foreground: 0 0 0;

  --secondary: 39 39 42;
  --secondary-foreground: 250 250 250;

  --muted: 39 39 42;
  --muted-foreground: 161 161 170;

  --accent: 39 39 42;
  --accent-foreground: 250 250 250;

  --border: 39 39 42;
  --input: 39 39 42;
  --ring: 52 211 153;

  --scrollbar-thumb: 255 255 255 / 0.1;
  --scrollbar-thumb-hover: 255 255 255 / 0.2;

  --glass-bg: 24 24 27 / 0.8;
  --glass-border: 255 255 255 / 0.08;

  /* ============================================
     AnHeYu 深色模式变量
     ============================================ */
  --anzhiyu-border-color: rgb(253 253 253 / 12%);
  --anzhiyu-theme: #34d399;
  --anzhiyu-theme-op: #34d39923;
  --anzhiyu-theme-op-deep: #34d399dd;
  --anzhiyu-theme-none: #34d39900;
  --anzhiyu-blue: #0084ff;
  --anzhiyu-red: #ff3842;
  --anzhiyu-pink: #d44040;
  --anzhiyu-green: #3e9f50;
  --anzhiyu-purple: #7a60d2;
  --anzhiyu-yellow: #ffc93e;
  --anzhiyu-yellow-op: #ffc93e30;
  --anzhiyu-orange: #ff953e;
  --anzhiyu-fontcolor: #f7f7fa;
  --anzhiyu-background: #18171d;
  --anzhiyu-reverse: #fff;
  --anzhiyu-maskbg: rgb(0 0 0 / 60%);
  --anzhiyu-maskbgdeep: rgb(0 0 0 / 85%);
  --anzhiyu-hovertext: #0a84ff;
  --anzhiyu-ahoverbg: #fff;
  --anzhiyu-lighttext: var(--anzhiyu-theme);
  --anzhiyu-secondtext: #a1a2b8;
  --anzhiyu-scrollbar: rgb(200 200 223 / 40%);
  --anzhiyu-card-btn-bg: #30343f;
  --anzhiyu-post-blockquote-bg: #000;
  --anzhiyu-post-tabs-bg: #121212;
  --anzhiyu-secondbg: #21232a;
  --anzhiyu-shadow-nav: 0 5px 20px 0px rgb(28 28 28 / 40%);
  --anzhiyu-card-bg: #1d1e22;
  --anzhiyu-card-bg-op: var(--anzhiyu-white-op);
  --anzhiyu-card-bg-none: #1d1b2600;
  --anzhiyu-shadow-lightblack: 0 5px 12px -5px rgb(102 68 68 / 0%);
  --anzhiyu-card-border: #3d3d3f;
  --anzhiyu-card-bg-grey: #27282a;
  --anzhiyu-shadow-border: 0 8px 16px -4px #00000050;
  --style-border: 1px solid var(--anzhiyu-card-border);
  --style-border-always: 1px solid var(--anzhiyu-card-border);
  --style-border-hover: 1px solid var(--anzhiyu-lighttext);
  --style-border-hover-always: 1px solid var(--anzhiyu-lighttext);
  --style-border-dashed: 1px dashed var(--anzhiyu-theme-op);
  --font-color: rgb(255 255 255 / 70%);
  --text-highlight-color: rgb(255 255 255 / 90%);
}

/* ============================================
   主题配色方案
   ============================================ */

/* 薄荷绿主题 (默认) */
[data-theme="mint"],
:root {
  --primary: 16 185 129;
  --primary-foreground: 255 255 255;
  --primary-50: 236 253 245;
  --primary-100: 209 250 229;
  --primary-200: 167 243 208;
  --primary-300: 110 231 183;
  --primary-400: 52 211 153;
  --primary-500: 16 185 129;
  --primary-600: 5 150 105;
  --primary-700: 4 120 87;
  --primary-800: 6 95 70;
  --primary-900: 4 78 56;
  --ring: 16 185 129;
  --selection-bg: 16 185 129;
}

.dark[data-theme="mint"] {
  --primary: 52 211 153;
  --primary-foreground: 0 0 0;
  --ring: 52 211 153;
}

/* 天蓝主题 */
[data-theme="blue"] {
  --primary: 59 130 246;
  --primary-foreground: 255 255 255;
  --primary-50: 239 246 255;
  --primary-100: 219 234 254;
  --primary-200: 191 219 254;
  --primary-300: 147 197 253;
  --primary-400: 96 165 250;
  --primary-500: 59 130 246;
  --primary-600: 37 99 235;
  --primary-700: 29 78 216;
  --primary-800: 30 64 175;
  --primary-900: 30 58 138;
  --ring: 59 130 246;
  --selection-bg: 59 130 246;
}

.dark[data-theme="blue"] {
  --primary: 96 165 250;
  --primary-foreground: 0 0 0;
  --ring: 96 165 250;
}

/* 紫罗兰主题 */
[data-theme="violet"] {
  --primary: 139 92 246;
  --primary-foreground: 255 255 255;
  --primary-50: 245 243 255;
  --primary-100: 237 233 254;
  --primary-200: 221 214 254;
  --primary-300: 196 181 253;
  --primary-400: 167 139 250;
  --primary-500: 139 92 246;
  --primary-600: 124 58 237;
  --primary-700: 109 40 217;
  --primary-800: 91 33 182;
  --primary-900: 76 29 149;
  --ring: 139 92 246;
  --selection-bg: 139 92 246;
}

.dark[data-theme="violet"] {
  --primary: 167 139 250;
  --primary-foreground: 0 0 0;
  --ring: 167 139 250;
}

/* 玫瑰红主题 */
[data-theme="rose"] {
  --primary: 244 63 94;
  --primary-foreground: 255 255 255;
  --primary-50: 255 241 242;
  --primary-100: 255 228 230;
  --primary-200: 254 205 211;
  --primary-300: 253 164 175;
  --primary-400: 251 113 133;
  --primary-500: 244 63 94;
  --primary-600: 225 29 72;
  --primary-700: 190 18 60;
  --primary-800: 159 18 57;
  --primary-900: 136 19 55;
  --ring: 244 63 94;
  --selection-bg: 244 63 94;
}

.dark[data-theme="rose"] {
  --primary: 251 113 133;
  --primary-foreground: 0 0 0;
  --ring: 251 113 133;
}

/* 琥珀主题 */
[data-theme="amber"] {
  --primary: 245 158 11;
  --primary-foreground: 0 0 0;
  --primary-50: 255 251 235;
  --primary-100: 254 243 199;
  --primary-200: 253 230 138;
  --primary-300: 252 211 77;
  --primary-400: 251 191 36;
  --primary-500: 245 158 11;
  --primary-600: 217 119 6;
  --primary-700: 180 83 9;
  --primary-800: 146 64 14;
  --primary-900: 120 53 15;
  --ring: 245 158 11;
  --selection-bg: 245 158 11;
}

.dark[data-theme="amber"] {
  --primary: 251 191 36;
  --primary-foreground: 0 0 0;
  --ring: 251 191 36;
}

/* 青色主题 */
[data-theme="cyan"] {
  --primary: 6 182 212;
  --primary-foreground: 255 255 255;
  --primary-50: 236 254 255;
  --primary-100: 207 250 254;
  --primary-200: 165 243 252;
  --primary-300: 103 232 249;
  --primary-400: 34 211 238;
  --primary-500: 6 182 212;
  --primary-600: 8 145 178;
  --primary-700: 14 116 144;
  --primary-800: 21 94 117;
  --primary-900: 22 78 99;
  --ring: 6 182 212;
  --selection-bg: 6 182 212;
}

.dark[data-theme="cyan"] {
  --primary: 34 211 238;
  --primary-foreground: 0 0 0;
  --ring: 34 211 238;
}

/* ============================================
   基础样式
   ============================================ */

html {
  scroll-behavior: smooth;
  overflow-x: hidden !important;
  scroll-padding-top: 80px;
}

body {
  background-color: rgb(var(--background));
  color: rgb(var(--foreground));
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  overflow-x: hidden !important;
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* Desktop only: stable scrollbar gutter */
@media (min-width: 768px) {
  html,
  body {
    scrollbar-gutter: stable;
  }
}

/* Selection color */
::selection {
  background: rgb(var(--selection-bg) / var(--selection-opacity));
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: rgb(var(--scrollbar-thumb));
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgb(var(--scrollbar-thumb-hover));
}

/* ============================================
   排版
   ============================================ */

.text-hero {
  font-size: clamp(3rem, 12vw, 10rem);
  line-height: 0.9;
  letter-spacing: -0.03em;
  font-weight: 700;
}

.text-display {
  font-size: clamp(2.5rem, 8vw, 6rem);
  line-height: 1.1;
  letter-spacing: -0.02em;
  font-weight: 700;
}

/* Apple 风格 Hero 标题 */
.hero-title {
  font-size: clamp(2.5rem, 8vw, 5rem);
  line-height: 1.1;
  letter-spacing: -0.03em;
  font-weight: 700;
}

@media (min-width: 768px) {
  .hero-title {
    font-size: clamp(3rem, 8vw, 6rem);
  }
}

/* Apple 风格大段落文字 */
.narrative-text {
  font-size: clamp(1.5rem, 4vw, 3rem);
  line-height: 1.4;
  letter-spacing: -0.02em;
  font-weight: 500;
}

/* ============================================
   渐变文字
   ============================================ */

.gradient-text {
  background: linear-gradient(135deg, rgb(var(--foreground)) 0%, rgb(var(--foreground) / 0.6) 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.gradient-text-primary {
  background: linear-gradient(135deg, rgb(var(--primary-500)) 0%, rgb(var(--primary-600)) 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* ============================================
   玻璃效果
   ============================================ */

.glass {
  background: rgb(var(--glass-bg));
  backdrop-filter: blur(20px);
  border: 1px solid rgb(var(--glass-border));
}

.glass-hover:hover {
  background: rgb(var(--glass-bg));
  border-color: rgb(var(--glass-border));
}

/* ============================================
   卡片样式
   ============================================ */

.card-subtle {
  background: rgb(var(--card) / 0.5);
  border: 1px solid rgb(var(--border));
  border-radius: 24px;
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.card-subtle:hover {
  background: rgb(var(--card) / 0.8);
  border-color: rgb(var(--border));
  transform: translateY(-4px);
}

/* ============================================
   按钮样式
   ============================================ */

.btn-primary {
  background: rgb(var(--primary));
  color: rgb(var(--primary-foreground));
  font-weight: 500;
  padding: 14px 28px;
  border-radius: 980px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.btn-primary:hover {
  background: rgb(var(--primary-600));
  transform: scale(1.02);
}

.btn-secondary {
  background: transparent;
  color: rgb(var(--foreground) / 0.8);
  font-weight: 500;
  padding: 14px 28px;
  border: 1px solid rgb(var(--border));
  border-radius: 980px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.btn-secondary:hover {
  background: rgb(var(--muted));
  border-color: rgb(var(--border));
}

/* ============================================
   发光效果
   ============================================ */

.glow-primary {
  box-shadow: 0 0 80px rgb(var(--primary) / 0.1), 0 0 160px rgb(var(--primary) / 0.05);
}

.dark .glow-primary {
  box-shadow: 0 0 80px rgb(var(--primary) / 0.15), 0 0 160px rgb(var(--primary) / 0.1);
}

/* ============================================
   区块间距
   ============================================ */

.section-spacing {
  padding: 80px 0;
}

@media (min-width: 640px) {
  .section-spacing {
    padding: 120px 0;
  }
}

@media (min-width: 1024px) {
  .section-spacing {
    padding: 160px 0;
  }
}

/* ============================================
   移动端优化
   ============================================ */

@media (hover: none) and (pointer: coarse) {
  ::-webkit-scrollbar {
    display: none;
  }

  button,
  a,
  [role="button"] {
    min-height: 44px;
    min-width: 44px;
  }
}

/* Hide scrollbar utility */
.hide-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.hide-scrollbar::-webkit-scrollbar {
  display: none;
}

/* ============================================
   动画效果
   ============================================ */

.reveal {
  opacity: 0;
  transform: translateY(60px);
  transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
}

.reveal.active {
  opacity: 1;
  transform: translateY(0);
}

/* Link hover effect */
.link-hover {
  position: relative;
}

.link-hover::after {
  content: "";
  position: absolute;
  bottom: -2px;
  left: 0;
  width: 0;
  height: 1px;
  background: currentColor;
  transition: width 0.3s ease;
}

.link-hover:hover::after {
  width: 100%;
}

/* Transition utilities */
.transition-smooth {
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.transition-fast {
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Performance optimizations */
.will-change-transform {
  will-change: transform;
}

.will-change-opacity {
  will-change: opacity;
}

.gpu-accelerated {
  transform: translateZ(0);
  backface-visibility: hidden;
}

/* ============================================
   Apple 风格动效
   ============================================ */

/* 滚动进度条 */
.scroll-progress {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: 2px;
  background: linear-gradient(90deg, rgb(var(--primary)), rgb(var(--primary-400)));
  transform-origin: left;
  z-index: 9999;
}

/* 文章卡片悬停效果 */
.article-card-hover {
  transition: all 0.5s cubic-bezier(0.25, 0.1, 0.25, 1);
}

.article-card-hover:hover {
  transform: translateY(-8px);
  box-shadow: 0 20px 40px rgb(0 0 0 / 0.1), 0 0 0 1px rgb(0 0 0 / 0.05);
}

.dark .article-card-hover:hover {
  box-shadow: 0 20px 40px rgb(0 0 0 / 0.3), 0 0 0 1px rgb(255 255 255 / 0.05);
}

/* 图片缩放效果 */
.image-zoom {
  transition: transform 0.6s cubic-bezier(0.25, 0.1, 0.25, 1);
}

.image-zoom:hover {
  transform: scale(1.05);
}

/* 按钮呼吸动效 */
@keyframes subtle-pulse {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0.8;
  }
}

.btn-pulse {
  animation: subtle-pulse 3s ease-in-out infinite;
}

/* 背景渐变动画 */
@keyframes gradient-shift {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

.animate-gradient {
  background-size: 200% 200%;
  animation: gradient-shift 8s ease infinite;
}

/* 视差层 */
.parallax-layer {
  will-change: transform;
  transform: translateZ(0);
}

/* 模糊进入效果 */
.blur-in {
  animation: blur-in 0.8s cubic-bezier(0.25, 0.1, 0.25, 1) forwards;
}

@keyframes blur-in {
  0% {
    opacity: 0;
    filter: blur(10px);
    transform: translateY(20px);
  }
  100% {
    opacity: 1;
    filter: blur(0);
    transform: translateY(0);
  }
}

/* 文字渐显效果 */
.text-fade-in {
  opacity: 0;
  transform: translateY(20px);
  transition: opacity 0.6s cubic-bezier(0.25, 0.1, 0.25, 1), transform 0.6s cubic-bezier(0.25, 0.1, 0.25, 1);
}

.text-fade-in.visible {
  opacity: 1;
  transform: translateY(0);
}

/* 边框流光效果 */
.border-glow {
  position: relative;
}

.border-glow::before {
  content: "";
  position: absolute;
  inset: -2px;
  border-radius: inherit;
  padding: 2px;
  background: linear-gradient(
    135deg,
    rgb(var(--primary)),
    rgb(var(--primary-400)),
    rgb(var(--primary-600)),
    rgb(var(--primary))
  );
  background-size: 300% 300%;
  animation: gradient-shift 4s ease infinite;
  -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.border-glow:hover::before {
  opacity: 1;
}

/* 玻璃拟态卡片 */
.glass-card {
  background: rgb(var(--glass-bg));
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgb(var(--glass-border));
  box-shadow: 0 8px 32px rgb(0 0 0 / 0.08), inset 0 1px 0 rgb(255 255 255 / 0.5);
}

.dark .glass-card {
  box-shadow: 0 8px 32px rgb(0 0 0 / 0.3), inset 0 1px 0 rgb(255 255 255 / 0.05);
}

/* 数字计数动画 */
.number-animate {
  display: inline-block;
  transition: transform 0.3s cubic-bezier(0.25, 0.1, 0.25, 1);
}

.number-animate:hover {
  transform: scale(1.1);
}

/* 阅读进度指示器 */
.reading-progress {
  position: fixed;
  bottom: 20px;
  right: 20px;
  width: 48px;
  height: 48px;
  border-radius: 50%;
  background: rgb(var(--background) / 0.9);
  backdrop-filter: blur(10px);
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 4px 20px rgb(0 0 0 / 0.1);
  z-index: 100;
}

/* ============================================
   高级滚动阻尼效果
   ============================================ */

/* 平滑滚动 */
html {
  scroll-behavior: smooth;
}

@supports (scroll-behavior: smooth) {
  html {
    scroll-behavior: smooth;
  }
}

/* 滚动惯性（仅 webkit） */
* {
  -webkit-overflow-scrolling: touch;
}

/* ============================================
   Apple 风格微交互
   ============================================ */

/* 磁性吸附按钮效果 */
.magnetic-button {
  transition: transform 0.15s cubic-bezier(0.33, 1, 0.68, 1);
}

/* 弹性缩放 */
.bouncy-scale {
  transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.bouncy-scale:hover {
  transform: scale(1.02);
}

.bouncy-scale:active {
  transform: scale(0.98);
}

/* 3D 透视容器 */
.perspective-container {
  perspective: 1000px;
  perspective-origin: center;
}

/* 3D 卡片翻转 */
.card-3d {
  transform-style: preserve-3d;
  transition: transform 0.6s cubic-bezier(0.25, 0.1, 0.25, 1);
}

.card-3d:hover {
  transform: rotateY(5deg) rotateX(5deg);
}

/* 悬浮阴影效果 */
.hover-lift {
  transition: all 0.4s cubic-bezier(0.25, 0.1, 0.25, 1);
}

.hover-lift:hover {
  transform: translateY(-8px);
  box-shadow: 0 20px 40px rgb(var(--foreground) / 0.1), 0 0 0 1px rgb(var(--border) / 0.5);
}

.dark .hover-lift:hover {
  box-shadow: 0 20px 40px rgb(0 0 0 / 0.4), 0 0 0 1px rgb(var(--border) / 0.5);
}

/* 光泽扫过效果 */
.shine-effect {
  position: relative;
  overflow: hidden;
}

.shine-effect::after {
  content: "";
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: linear-gradient(to right, transparent 0%, rgb(255 255 255 / 0.1) 50%, transparent 100%);
  transform: rotate(30deg) translateX(-100%);
  transition: transform 0.6s ease;
}

.shine-effect:hover::after {
  transform: rotate(30deg) translateX(100%);
}

/* ============================================
   滚动驱动动画
   ============================================ */

/* 淡入上升 */
.scroll-fade-up {
  opacity: 0;
  transform: translateY(40px);
  transition: all 0.8s cubic-bezier(0.25, 0.1, 0.25, 1);
}

.scroll-fade-up.visible {
  opacity: 1;
  transform: translateY(0);
}

/* 淡入缩放 */
.scroll-scale-in {
  opacity: 0;
  transform: scale(0.9);
  transition: all 0.8s cubic-bezier(0.25, 0.1, 0.25, 1);
}

.scroll-scale-in.visible {
  opacity: 1;
  transform: scale(1);
}

/* 滑入效果 */
.scroll-slide-left {
  opacity: 0;
  transform: translateX(-60px);
  transition: all 0.8s cubic-bezier(0.25, 0.1, 0.25, 1);
}

.scroll-slide-left.visible {
  opacity: 1;
  transform: translateX(0);
}

.scroll-slide-right {
  opacity: 0;
  transform: translateX(60px);
  transition: all 0.8s cubic-bezier(0.25, 0.1, 0.25, 1);
}

.scroll-slide-right.visible {
  opacity: 1;
  transform: translateX(0);
}

/* 模糊进入 */
.scroll-blur-in {
  opacity: 0;
  filter: blur(20px);
  transform: translateY(30px);
  transition: all 1s cubic-bezier(0.25, 0.1, 0.25, 1);
}

.scroll-blur-in.visible {
  opacity: 1;
  filter: blur(0);
  transform: translateY(0);
}

/* ============================================
   高级文字动画
   ============================================ */

/* 字符级动画 */
.char-reveal span {
  display: inline-block;
  opacity: 0;
  transform: translateY(20px);
  animation: char-reveal 0.5s cubic-bezier(0.25, 0.1, 0.25, 1) forwards;
}

@keyframes char-reveal {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* 打字机效果 */
.typewriter {
  overflow: hidden;
  border-right: 2px solid rgb(var(--primary));
  white-space: nowrap;
  animation: typing 3s steps(40, end), blink-caret 0.75s step-end infinite;
}

@keyframes typing {
  from {
    width: 0;
  }
  to {
    width: 100%;
  }
}

@keyframes blink-caret {
  from,
  to {
    border-color: transparent;
  }
  50% {
    border-color: rgb(var(--primary));
  }
}

/* 渐变文字动画 */
.animated-gradient-text {
  background: linear-gradient(
    90deg,
    rgb(var(--primary)),
    rgb(var(--primary-400)),
    rgb(var(--primary-600)),
    rgb(var(--primary))
  );
  background-size: 300% 100%;
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: gradient-text-shift 8s ease infinite;
}

@keyframes gradient-text-shift {
  0%,
  100% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
}

/* ============================================
   粒子和装饰效果
   ============================================ */

/* 脉冲圆环 */
.pulse-ring {
  position: relative;
}

.pulse-ring::before {
  content: "";
  position: absolute;
  inset: -4px;
  border: 2px solid rgb(var(--primary) / 0.5);
  border-radius: inherit;
  animation: pulse-ring 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

@keyframes pulse-ring {
  0%,
  100% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0;
    transform: scale(1.1);
  }
}

/* 涟漪效果 */
.ripple {
  position: relative;
  overflow: hidden;
}

.ripple::after {
  content: "";
  position: absolute;
  inset: 0;
  background: radial-gradient(circle, rgb(var(--primary) / 0.3) 0%, transparent 70%);
  transform: scale(0);
  opacity: 0;
  transition: all 0.6s ease;
}

.ripple:active::after {
  transform: scale(2.5);
  opacity: 1;
  transition: all 0s;
}

/* 浮动粒子 */
.floating-particle {
  position: absolute;
  width: 4px;
  height: 4px;
  background: rgb(var(--primary) / 0.3);
  border-radius: 50%;
  animation: float-particle 15s infinite;
}

@keyframes float-particle {
  0%,
  100% {
    transform: translateY(0) translateX(0);
    opacity: 0;
  }
  10% {
    opacity: 1;
  }
  90% {
    opacity: 1;
  }
  100% {
    transform: translateY(-100vh) translateX(50px);
    opacity: 0;
  }
}

/* ============================================
   高级卡片效果
   ============================================ */

/* 玻璃态卡片增强 */
.glass-card-enhanced {
  background: rgb(var(--card) / 0.6);
  backdrop-filter: blur(24px) saturate(180%);
  -webkit-backdrop-filter: blur(24px) saturate(180%);
  border: 1px solid rgb(var(--border) / 0.5);
  box-shadow: 0 8px 32px rgb(0 0 0 / 0.06), inset 0 1px 0 rgb(255 255 255 / 0.1);
  transition: all 0.4s cubic-bezier(0.25, 0.1, 0.25, 1);
}

.glass-card-enhanced:hover {
  background: rgb(var(--card) / 0.8);
  box-shadow: 0 20px 60px rgb(0 0 0 / 0.1), inset 0 1px 0 rgb(255 255 255 / 0.15);
  transform: translateY(-4px);
}

.dark .glass-card-enhanced {
  box-shadow: 0 8px 32px rgb(0 0 0 / 0.2), inset 0 1px 0 rgb(255 255 255 / 0.05);
}

.dark .glass-card-enhanced:hover {
  box-shadow: 0 20px 60px rgb(0 0 0 / 0.3), inset 0 1px 0 rgb(255 255 255 / 0.1);
}

/* 霓虹边框 */
.neon-border {
  position: relative;
}

.neon-border::before {
  content: "";
  position: absolute;
  inset: -1px;
  border-radius: inherit;
  background: linear-gradient(135deg, rgb(var(--primary)), rgb(var(--primary-400)), rgb(var(--primary)));
  z-index: -1;
  opacity: 0;
  transition: opacity 0.4s ease;
  filter: blur(8px);
}

.neon-border:hover::before {
  opacity: 0.6;
}

/* ============================================
   按钮增强效果
   ============================================ */

/* 主按钮增强 */
.btn-enhanced {
  position: relative;
  overflow: hidden;
  transition: all 0.4s cubic-bezier(0.25, 0.1, 0.25, 1);
}

.btn-enhanced::before {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(135deg, transparent 0%, rgb(255 255 255 / 0.1) 50%, transparent 100%);
  transform: translateX(-100%);
  transition: transform 0.6s ease;
}

.btn-enhanced:hover::before {
  transform: translateX(100%);
}

.btn-enhanced:hover {
  box-shadow: 0 10px 30px rgb(var(--primary) / 0.3);
  transform: translateY(-2px);
}

.btn-enhanced:active {
  transform: translateY(0);
}

/* ============================================
   页面过渡
   ============================================ */

/* 页面进入动画 */
.page-enter {
  animation: page-enter 0.6s cubic-bezier(0.25, 0.1, 0.25, 1);
}

@keyframes page-enter {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* 元素序列进入 */
.stagger-enter > * {
  opacity: 0;
  transform: translateY(30px);
  animation: stagger-item 0.6s cubic-bezier(0.25, 0.1, 0.25, 1) forwards;
}

.stagger-enter > *:nth-child(1) {
  animation-delay: 0.1s;
}
.stagger-enter > *:nth-child(2) {
  animation-delay: 0.2s;
}
.stagger-enter > *:nth-child(3) {
  animation-delay: 0.3s;
}
.stagger-enter > *:nth-child(4) {
  animation-delay: 0.4s;
}
.stagger-enter > *:nth-child(5) {
  animation-delay: 0.5s;
}
.stagger-enter > *:nth-child(6) {
  animation-delay: 0.6s;
}

@keyframes stagger-item {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ============================================
   滚动条美化增强
   ============================================ */

/* Firefox 滚动条 */
* {
  scrollbar-width: thin;
  scrollbar-color: rgb(var(--muted-foreground) / 0.3) transparent;
}

/* Webkit 滚动条增强 */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: rgb(var(--muted-foreground) / 0.2);
  border-radius: 3px;
  transition: background 0.3s ease;
}

::-webkit-scrollbar-thumb:hover {
  background: rgb(var(--muted-foreground) / 0.4);
}

/* 隐藏滚动条但保持可滚动 */
.scrollbar-hidden {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.scrollbar-hidden::-webkit-scrollbar {
  display: none;
}

/* ============================================
   骨架屏动画
   ============================================ */

/* Shimmer 闪烁效果 */
@keyframes shimmer {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(100%);
  }
}

.animate-shimmer {
  animation: shimmer 2s infinite;
}

/* ============================================
   Apple 风格统计卡片
   ============================================ */

/* 径向渐变 */
.bg-gradient-radial {
  background: radial-gradient(var(--tw-gradient-stops));
}

/* 统计卡片悬浮追踪效果 */
.stat-card-hover {
  --mouse-x: 50%;
  --mouse-y: 50%;
}

/* 高级玻璃态 */
.glass-premium {
  background: rgb(var(--card) / 0.4);
  backdrop-filter: blur(40px) saturate(180%);
  -webkit-backdrop-filter: blur(40px) saturate(180%);
  border: 1px solid rgb(255 255 255 / 0.1);
}

.dark .glass-premium {
  background: rgb(var(--card) / 0.3);
  border: 1px solid rgb(255 255 255 / 0.05);
}

/* 数字动画样式 */
.stat-number {
  font-feature-settings: "tnum" 1;
  font-variant-numeric: tabular-nums;
}

/* 卡片光晕效果 */
.card-glow {
  position: relative;
}

.card-glow::before {
  content: "";
  position: absolute;
  inset: -1px;
  border-radius: inherit;
  padding: 1px;
  background: linear-gradient(
    135deg,
    rgb(var(--primary) / 0.3),
    transparent 40%,
    transparent 60%,
    rgb(var(--primary) / 0.3)
  );
  -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  opacity: 0;
  transition: opacity 0.4s ease;
}

.card-glow:hover::before {
  opacity: 1;
}

/* 高级滚动阻尼效果 */
@supports (scroll-behavior: smooth) {
  html {
    scroll-behavior: smooth;
  }
}

/* iOS 风格弹性滚动 */
.scroll-smooth-ios {
  -webkit-overflow-scrolling: touch;
  overscroll-behavior: contain;
}

/* 统计区域背景动画 */
@keyframes stat-bg-float {
  0%,
  100% {
    transform: translateY(0) scale(1);
    opacity: 0.5;
  }
  50% {
    transform: translateY(-20px) scale(1.05);
    opacity: 0.7;
  }
}

.stat-bg-animate {
  animation: stat-bg-float 8s ease-in-out infinite;
}

/* 数字滚动动画 */
@keyframes number-roll {
  0% {
    transform: translateY(100%);
    opacity: 0;
  }
  100% {
    transform: translateY(0);
    opacity: 1;
  }
}

.number-roll-in {
  animation: number-roll 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

/* 卡片入场动画 */
@keyframes card-entrance {
  0% {
    opacity: 0;
    transform: translateY(40px) scale(0.95);
    filter: blur(10px);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
    filter: blur(0);
  }
}

.card-entrance {
  animation: card-entrance 0.8s cubic-bezier(0.25, 0.1, 0.25, 1) forwards;
}

/* 引用文字渐变动画 */
@keyframes quote-gradient {
  0%,
  100% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
}

.quote-gradient-animate {
  background-size: 200% 200%;
  animation: quote-gradient 6s ease infinite;
}

/* 光点呼吸动画 */
@keyframes dot-breathe {
  0%,
  100% {
    transform: scale(1);
    opacity: 1;
  }
  50% {
    transform: scale(1.3);
    opacity: 0.7;
  }
}

.dot-breathe {
  animation: dot-breathe 3s ease-in-out infinite;
}

/* 线条延伸动画 */
@keyframes line-extend {
  0% {
    width: 0;
    opacity: 0;
  }
  100% {
    width: 100%;
    opacity: 1;
  }
}

.line-extend {
  animation: line-extend 1s cubic-bezier(0.25, 0.1, 0.25, 1) forwards;
}

/* ============================================
   性能优化
   ============================================ */

/* GPU 加速 */
.gpu-accelerated {
  transform: translateZ(0);
  backface-visibility: hidden;
  will-change: transform;
}

/* 减少重绘 */
.reduce-repaint {
  contain: layout style paint;
}

/* 内容可见性优化 */
.content-visibility-auto {
  content-visibility: auto;
  contain-intrinsic-size: auto 500px;
}

/* Reduce motion preference */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }

  .scroll-fade-up,
  .scroll-scale-in,
  .scroll-slide-left,
  .scroll-slide-right,
  .scroll-blur-in {
    opacity: 1;
    transform: none;
    filter: none;
  }
}
